<h1 align="center">DataLoom</h1>
<h3 align="center">AI-Powered Synthetic Data Generation API</h3>

<p align="center">
  <img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License: MIT">
  <img src="https://img.shields.io/badge/version-1.0.0-green.svg" alt="Version: 1.0.0">
  <img src="https://img.shields.io/badge/python-3.10+-blue.svg" alt="Python: 3.10+">
</p>

---

## 🎯 Overview

**DataLoom** is a professional, production-ready REST API for generating privacy-safe, realistic synthetic datasets using the power of AI. Designed for developers, testers, data scientists, and analysts, DataLoom leverages multiple state-of-the-art language models via AWS Bedrock to generate both data schemas and high-quality synthetic data—tailored to your needs and fully compliant with privacy regulations.

---

## 🚀 Features

-   **AI-Powered Schema Generation:** Describe your dataset in plain English and let AI design the schema.
-   **Multiple AI Models:** Choose from Mistral, Claude, or Llama—each optimized for different data generation tasks.
-   **JSON/CSV Output:** Generate data in structured JSON format, easily convertible to CSV.
-   **Privacy-First:** All data is synthetic and privacy-safe, ensuring GDPR and other compliance.
-   **Intelligent Data Types:** Automatic detection and generation of strings, numbers, dates, booleans, and categorical values.
-   **Realistic Relationships:** Generate data with realistic correlations and patterns.
-   **RESTful API:** Simple HTTP endpoints for easy integration into any application or workflow.
-   **Cloud-Native Deployment:** Fully containerized and orchestrated for easy deployment on cloud infrastructure.

---

## 🏗️ Architecture

```
┌────────────────────────────┐
│    HTTP API Request        │
└────────────┬───────────────┘
             │
             ▼
┌────────────────────────────┐
│ Flask API Backend (Python) │
└────────────┬───────────────┘
             │
             ▼
┌────────────────────────────┐
│  Prompt Template + Schema  │
│         Preparation        │
└────────────┬───────────────┘
             │
             ▼
┌────────────────────────────┐
│ Amazon Bedrock(LLM: Claude,│
│      Mistral, or Llama)    │
└────────────┬───────────────┘
             │
             ▼
┌────────────────────────────┐
│  Generated Synthetic Data  │
└────────────┬───────────────┘
             │
             ▼
┌────────────────────────────┐
│    JSON API Response       │
└────────────────────────────┘
```

🧠 **Flow Summary**:

1. Client sends API request with dataset description → schema is generated by Bedrock.
2. Client can modify schema and send data generation request.
3. Backend invokes Bedrock to generate realistic synthetic data.
4. API returns structured JSON data ready for use.

---

-   **Backend:**

    -   Python Flask REST API.
    -   Handles orchestration, input validation, and communication with AWS Bedrock.
    -   Dynamically routes requests to the selected AI model.

-   **AWS Bedrock:**

    -   Provides access to multiple foundation models (Mistral, Claude, Llama) for both schema and data generation.
    -   All model invocations are handled securely via the AWS Bedrock runtime API using `boto3`.

-   **Deployment:**
    -   Backend is containerized with Docker.
    -   Orchestrated using Docker Compose.
    -   Deployed on AWS EC2 for scalability and reliability.

---

## ⚙️ How It Works

1. **Describe Your Dataset:**  
   Send a POST request with a natural language description of the dataset you need (e.g., "medical records with patient info, diagnoses, and treatments").
2. **AI Generates Schema:**  
   The API uses AWS Bedrock to generate a schema tailored to your description, including field names, types, and possible values.
3. **Generate Data:**  
   Send another POST request with your schema, row count, and preferred AI model; DataLoom generates realistic synthetic data.
4. **Use the Data:**  
   Receive structured JSON data ready for immediate use in your applications, testing, or analysis.

---

## 🤖 AI Models & AWS Bedrock

DataLoom integrates with [AWS Bedrock](https://aws.amazon.com/bedrock/) to provide access to multiple state-of-the-art language models:

-   **Claude 3 Haiku:**  
    Advanced reasoning and context understanding, ideal for complex datasets.

-   **Mistral Large:**  
    Fast, general-purpose model for schema and data generation.

-   **Llama 3 70B Instruct:**  
    Optimized for structured data and large-scale generation.

The backend dynamically routes requests to the selected model using the following modules:

-   [`backend/bedrock/claude.py`](bedrock/claude.py)
-   [`backend/bedrock/mistral.py`](bedrock/mistral.py)
-   [`backend/bedrock/llama.py`](bedrock/llama.py)

All models are invoked via the AWS Bedrock runtime API using `boto3`.

---

## ☁️ Deployment

-   **Hosting:** AWS EC2 (Ubuntu), Docker Compose for orchestration.
-   **Backend:** Runs with Gunicorn for production-grade performance.

---

## 🛠️ Getting Started

### Prerequisites

-   Docker & Docker Compose
-   AWS credentials with Bedrock access

### Clone the Repository

```sh
git clone https://github.com/your-org/DataLoom.git
cd DataLoom
```

### Environment Variables

Configure the following in `.env`:

```
BEDROCK_CLAUDE_ID=your-claude-model-id
BEDROCK_MISTRAL_ID=your-mistral-model-id
BEDROCK_LLAMA_ID=your-llama-model-id
MAX_TOKENS=4096
TEMPERATURE=0.5
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=your-region
```

### Build & Run

```sh
docker-compose up --build
```

-   Backend API: [http://localhost:5000](http://localhost:5000)

---

## 📚 API Documentation

See [`backend/api_doc.md`](api_doc.md) for full details.

### Health Check

-   `GET /`
-   **Response:**
    ```json
    {
        "message": "API is working",
        "status": "success"
    }
    ```

### Generate Schema

-   `POST /api/generate-schema`
-   **Body:**
    ```json
    {
        "description": "a dataset of medical",
        "model_type": "mistral",
        "column_count": 6
    }
    ```
-   **Response:**
    ```json
    {
        "column_count": 6,
        "model_used": "mistral",
        "schema": [
            { "name": "patient_id", "type": "int" },
            {
                "name": "medical_condition",
                "type": "string",
                "values": ["Diabetes", "Heart Disease", "Asthma", "Arthritis"]
            },
            { "name": "treatment_date", "type": "date" },
            {
                "name": "medication_prescribed",
                "type": "string",
                "values": [
                    "Metformin",
                    "Lisinopril",
                    "Albuterol",
                    "Methotrexate"
                ]
            },
            { "name": "dosage", "type": "float" },
            { "name": "follow_up_required", "type": "boolean" }
        ]
    }
    ```

### Generate Data

-   `POST /api/generate-data`
-   **Body:**
    ```json
    {
        "schema": [
            { "name": "patient_id", "type": "int" },
            { "name": "patient_name", "type": "string" },
            { "name": "age", "type": "int" },
            {
                "name": "gender",
                "type": "string",
                "values": ["Male", "Female", "Other"]
            },
            {
                "name": "diagnosis",
                "type": "string",
                "values": [
                    "Flu",
                    "Diabetes",
                    "Hypertension",
                    "Asthma",
                    "Arthritis",
                    "Cancer",
                    "Heart Disease"
                ]
            },
            {
                "name": "treatment",
                "type": "string",
                "values": [
                    "Medication",
                    "Surgery",
                    "Physical Therapy",
                    "Radiation Therapy",
                    "Chemotherapy"
                ]
            },
            { "name": "appointment_date", "type": "date" }
        ],
        "count": 10,
        "model_type": "claude"
    }
    ```
-   **Response:**
    ```json
    {
      "count": 10,
      "data": [
        {
          "age": 42,
          "appointment_date": "2023-04-15",
          "diagnosis": "Hypertension",
          "gender": "Female",
          "patient_id": 1001,
          "patient_name": "Emily Johnson",
          "treatment": "Medication"
        },
        ...
      ],
      "model_used": "claude"
    }
    ```

---

## 🧰 Tech Stack

-   **Backend:** Python, Flask, Gunicorn, Flask-CORS, boto3
-   **AI/ML:** AWS Bedrock (Mistral, Claude, Llama)
-   **Deployment:** Docker, AWS EC2

---

## 👥 Team

-   **Rejwanul Hoque**  
    [GitHub](https://github.com/rejzzzz)

-   **Anchal Tandekar**  
    [GitHub](https://github.com/Anchal-T)

---

## 📄 License

This project is licensed under the MIT License. See [LICENSE](LICENSE) for details.
